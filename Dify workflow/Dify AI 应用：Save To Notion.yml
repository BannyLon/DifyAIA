app:
  description: æŠŠæ„Ÿå…´è¶£çš„ç½‘é¡µç›´æ¥æ·»åŠ åˆ°notionçš„databaseä¸­
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: Dify AI åº”ç”¨ï¼šSave To Notion
  use_icon_as_answer_icon: false
kind: app
version: 0.1.3
workflow:
  conversation_variables:
  - description: ''
    id: 10db5ce3-c1a4-41b7-a03b-8463eac32ef9
    name: icon_url
    selector: []
    value: https://images.unsplash.com/photo-1â…©XQs.png?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80
    value_type: string
  - description: ''
    id: ee2f2123-bb0b-4115-afb7-bd47872d5101
    name: cover_image_url
    selector: []
    value: https://image.uisdc.com/wp-content/uploads/2024/11/ysbanner-202401107-2-1.jpg
    value_type: string
  environment_variables:
  - description: ''
    id: 17407729-75d7-4e0d-b10b-f283134588d4
    name: Notion_connection
    selector: []
    value: ''
    value_type: secret
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: tool
      id: 1731215727341-source-1731215762093-target
      source: '1731215727341'
      sourceHandle: source
      target: '1731215762093'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: tool
        targetType: code
      id: 1731215762093-source-1731215842406-target
      source: '1731215762093'
      sourceHandle: source
      target: '1731215842406'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: llm
      id: 1731215842406-source-1731219932025-target
      source: '1731215842406'
      sourceHandle: source
      target: '1731219932025'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: code
      id: 1731219932025-source-1731220225016-target
      source: '1731219932025'
      sourceHandle: source
      target: '1731220225016'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: http-request
      id: 1731220225016-source-1731220589185-target
      source: '1731220225016'
      sourceHandle: source
      target: '1731220589185'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: answer
      id: 1731220589185-source-answer-target
      source: '1731220589185'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: code
      id: 1731381205378-source-1731220225016-target
      source: '1731381205378'
      sourceHandle: source
      target: '1731220225016'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: code
        targetType: code
      id: 1731215842406-source-1731381205378-target
      source: '1731215842406'
      sourceHandle: source
      target: '1731381205378'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 64
      id: '1731215727341'
      position:
        x: 50.957085547227166
        y: 282
      positionAbsolute:
        x: 50.957085547227166
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        answer: '{{#1731219932025.text#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 118
      id: answer
      position:
        x: 1698.4344766195713
        y: 282
      positionAbsolute:
        x: 1698.4344766195713
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        desc: ''
        provider_id: jina
        provider_name: jina
        provider_type: builtin
        selected: false
        title: è·å–å•é¡µé¢
        tool_configurations:
          gather_all_images_at_the_end: 0
          gather_all_links_at_the_end: 0
          image_caption: 0
          max_retries: 3
          no_cache: 0
          proxy_server: null
          summary: 0
          target_selector: null
          wait_for_selector: null
        tool_label: è·å–å•é¡µé¢
        tool_name: jina_reader
        tool_parameters:
          url:
            type: mixed
            value: '{{#sys.query#}}'
        type: tool
      height: 369
      id: '1731215762093'
      position:
        x: 337.8342239138701
        y: 282
      positionAbsolute:
        x: 337.8342239138701
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "import json\n\ndef main(arg1: str) -> dict:\n    try:\n        # è§£æ\
          \ JSON æ•°æ®\n        parsed_data = json.loads(arg1)\n        \n        # æ£€æŸ¥\
          \ \"data\" æ˜¯å¦å­˜åœ¨ä¸”ä¸æ˜¯ None\n        if \"data\" in parsed_data and parsed_data[\"\
          data\"] is not None:\n            # è·å– title å­—æ®µ\n            title = parsed_data[\"\
          data\"].get(\"title\", \"\")\n        else:\n            title = \"\"\n\
          \        \n        # è¿”å›ç»“æœ\n        return {\"result\": title}\n    except\
          \ json.JSONDecodeError:\n        # å¦‚æœ JSON è§£ç å¤±è´¥ï¼Œè¿”å›ç©ºçš„ç»“æœ\n        return {\"\
          result\": \"\"}\n\n# å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª JSON å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥\njson_string = '{\"data\": {\"\
          title\": \"Example Title\"}}'\n\n# è°ƒç”¨ main å‡½æ•°å¹¶æ‰“å°ç»“æœ\nprint(main(json_string))"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ¸…æ´—æ ‡é¢˜
        type: code
        variables:
        - value_selector:
          - '1731215762093'
          - text
          variable: arg1
      height: 64
      id: '1731215842406'
      position:
        x: 596.4192884245988
        y: 282
      positionAbsolute:
        x: 596.4192884245988
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}

            ---

            æ–‡ç« å†…å®¹ï¼š

            {{#1731215842406.result#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: gemma2:latest
          provider: ollama
        prompt_template:
        - id: 3de1a1f3-d177-436f-a570-8669345ef2d1
          role: system
          text: "<instructions>\nä½ çš„ä»»åŠ¡æ˜¯å¯¹æä¾›çš„ç½‘é¡µå†…å®¹åˆ›å»ºä¸€ä»½ç²¾ç‚¼çš„æ‘˜è¦ã€‚è¯·ä¾æ®ä»¥ä¸‹æŒ‡å¼•å®Œæˆä»»åŠ¡ï¼š\n\n- é¦–å…ˆé€šè¯»ç½‘é¡µå…¨æ–‡ï¼Œå‡†ç¡®æŠŠæ¡å…¶æ ¸å¿ƒæ€æƒ³ä¸é‡è¦ä¿¡æ¯ã€‚\n\
            - æŒ‘é€‰å‡ºèƒ½å¤Ÿä»£è¡¨æ–‡ç« ä¸»æ—¨çš„ä¸‰ä¸ªæœ€å…³é”®ç‚¹ã€‚\n- ä½¿ç”¨è‡ªå·±çš„è¯­è¨€å°†ä¸Šè¿°å…³é”®ç‚¹æ•´åˆæˆä¸€æ®µè¿è´¯çš„æ–‡å­—ï¼Œé¿å…ç›´æ¥å¼•ç”¨åŸæ–‡ã€‚\n- ç¡®ä¿è¯¥æ®µæ–‡å­—è¡¨è¿°æµç•…ï¼Œé€»è¾‘æ¸…æ™°ï¼Œå¹¶ä¸”ä¸åŒè¦ç‚¹é—´è¿‡æ¸¡è‡ªç„¶ã€‚\n\
            - è¾“å‡ºé‡‡ç”¨Markdownæ ¼å¼ï¼Œå…·ä½“å¦‚ä¸‹ï¼š\n  - æ ‡é¢˜ä¹‹å‰ç•™ä¸€ç©ºæ ¼ï¼Œç´§è·Ÿæ ‡é¢˜æ–‡æœ¬ã€‚\n  - æ ‡é¢˜åç›´æ¥å¼€å§‹æ’°å†™æ‘˜è¦ï¼Œæ— éœ€ç©ºè¡Œé—´éš”ã€‚\n\
            \  - æ‘˜è¦åº”ä¿æŒä¸ºä¸€ä¸ªå®Œæ•´çš„æ®µè½ï¼Œé¿å…åˆ†å‰²ã€‚\n  - ä¸å¾—é‡‡ç”¨ä»»ä½•å½¢å¼çš„é¡¹ç›®ç¬¦å·åˆ—è¡¨ï¼ˆæ— è®ºæ˜¯æœ‰åºè¿˜æ˜¯æ— åºï¼‰ã€‚\n- æ‘˜è¦éœ€æ—¢ç®€æ´åˆè¯¦å°½ï¼Œè¶³ä»¥å…¨é¢åæ˜ åŸæ–‡çš„ä¸»è¦ä¿¡æ¯ã€‚\n\
            - è¾“å‡ºä»…é™äºæ ‡é¢˜åŠç›¸åº”çš„å•æ®µè½æ‘˜è¦ï¼Œä¸å¾—åŠ å…¥ä¸ªäººè¯„è®ºæˆ–å…¶ä»–é¢å¤–è¯´æ˜ã€‚\n- è‹±æ–‡å•è¯ã€æ•°å­—ä»¥åŠè¡¨æƒ…ç¬¦å·ç­‰ä¸ä¸­æ–‡é—´å‡éœ€ä¿ç•™ä¸€ä¸ªç©ºæ ¼ã€‚\n-\
            \ æ³¨æ„ï¼Œæœ€ç»ˆæäº¤çš„å†…å®¹ä¸­ä¸åº”å‡ºç°ä»»ä½•XMLæ ‡ç­¾ï¼Œåªéœ€ç¬¦åˆMarkdownæ ¼å¼çš„æ ‡é¢˜å’Œæ­£æ–‡éƒ¨åˆ†ã€‚\n\n</instructions>\n\n\
            <example>\nè¾“å…¥:\næ–°ç ”ç©¶è¡¨æ˜ï¼Œæ¯å¤©å–å’–å•¡å¯èƒ½æœ‰åŠ©äºå»¶é•¿å¯¿å‘½ã€‚è¿™é¡¹å‘è¡¨åœ¨ã€Šå†…ç§‘åŒ»å­¦å¹´é‰´ã€‹ä¸Šçš„ç ”ç©¶è¿½è¸ªè°ƒæŸ¥äº†è¶…è¿‡50ä¸‡åè‹±å›½æˆå¹´äººï¼Œå¹³å‡éšè®¿æ—¶é—´ä¸º7å¹´ã€‚ç ”ç©¶å‘ç°ï¼Œä¸ä¸å–å’–å•¡çš„äººç›¸æ¯”ï¼Œæ¯å¤©å–1-8æ¯å’–å•¡çš„äººæ­»äº¡é£é™©é™ä½10-15%ã€‚è¿™ç§ä¿æŠ¤ä½œç”¨ä¼¼ä¹é€‚ç”¨äºå„ç§å’–å•¡ï¼ŒåŒ…æ‹¬é€Ÿæº¶ã€ç ”ç£¨å’Œè„±å› å’–å•¡ã€‚ç ”ç©¶äººå‘˜è¡¨ç¤ºï¼Œå’–å•¡å«æœ‰è®¸å¤šç”Ÿç‰©æ´»æ€§åŒ–åˆç‰©ï¼Œå¯èƒ½æœ‰æŠ—ç‚å’ŒæŠ—æ°§åŒ–ä½œç”¨ã€‚ä¸è¿‡ä»–ä»¬ä¹Ÿå¼ºè°ƒï¼Œè¿™é¡¹ç ”ç©¶åªæ˜¾ç¤ºäº†ç›¸å…³æ€§ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥ç ”ç©¶æ¥è¯å®å› æœå…³ç³»ã€‚ä¸“å®¶å»ºè®®ï¼Œå¥åº·çš„æˆå¹´äººå¯ä»¥é€‚åº¦é¥®ç”¨å’–å•¡ï¼Œä½†å­•å¦‡å’Œå¯¹å’–å•¡å› æ•æ„Ÿçš„äººåº”è¯¥é™åˆ¶æ‘„å…¥é‡ã€‚\n\
            Â \nè¾“å‡º:\næ¯æ—¥ 1-8 æ¯å’–å•¡æˆ–å¯é™ä½æ­»äº¡é£é™©\nÂ \næ–°ç ”ç©¶æ˜¾ç¤ºï¼Œé€‚åº¦é¥®ç”¨å’–å•¡å¯èƒ½æœ‰åŠ©äºå»¶é•¿å¯¿å‘½ã€‚è¿™é¡¹å¤§è§„æ¨¡ç ”ç©¶å‘ç°ï¼Œæ¯å¤©å–1-8æ¯å’–å•¡çš„äººæ¯”ä¸å–å’–å•¡çš„äººæ­»äº¡é£é™©ä½10-15%ã€‚è¿™ç§ä¿æŠ¤ä½œç”¨ä¼¼ä¹é€‚ç”¨äºå„ç§ç±»å‹çš„å’–å•¡ï¼Œå¯èƒ½ä¸å’–å•¡ä¸­çš„ç”Ÿç‰©æ´»æ€§åŒ–åˆç‰©æœ‰å…³ã€‚ç„¶è€Œï¼Œç ”ç©¶äººå‘˜å¼ºè°ƒè¿™åªæ˜¯ç›¸å…³æ€§ï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥ç ”ç©¶æ¥ç¡®å®šå› æœå…³ç³»ã€‚ä¸“å®¶å»ºè®®å¥åº·æˆå¹´äººå¯ä»¥é€‚åº¦é¥®ç”¨å’–å•¡ï¼Œä½†ç‰¹å®šäººç¾¤åº”è¯¥é™åˆ¶æ‘„å…¥ã€‚\n\
            </example>\n"
        selected: false
        title: summary
        type: llm
        variables: []
        vision:
          enabled: false
      height: 119
      id: '1731219932025'
      position:
        x: 888.0340177253088
        y: 91.35063363900719
      positionAbsolute:
        x: 888.0340177253088
        y: 91.35063363900719
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "import json\nfrom datetime import datetime\n\ndef main(title: str,\
          \ summary: str, url: str,image_url: str) -> dict:\n    try:\n        # è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´\n\
          \        current_date = datetime.now().isoformat()\n\n        # æ£€æŸ¥å¿…å¡«å­—æ®µæ˜¯å¦ä¸ºç©º\n\
          \        if not title or not summary or not url:\n            return {\"\
          error\": \"Title, summary, and URL are required fields.\"}\n\n        #\
          \ åˆ›å»º JSON æ•°æ®\n        json_data = {\n            \"parent\": {\n       \
          \         \"database_id\": \"10ae512981008095afa1f20e7864f471\"\n      \
          \      },\n            \"properties\": {\n                \"ç½‘ç«™åç§°\": {\n\
          \                    \"title\": [\n                        {\n         \
          \                   \"text\": {\n                                \"content\"\
          : title\n                            }\n                        }\n    \
          \                ]\n                },\n                \"æ”¶è—æ—¥æœŸ\": {\n  \
          \                  \"date\": {\"start\": current_date}  # ä½¿ç”¨å…·ä½“çš„æ—¥æœŸ\n    \
          \            },\n                \"å†…å®¹æ‘˜è¦\": {\n                    \"rich_text\"\
          : [\n                        {\n                            \"type\": \"\
          text\",\n                            \"text\": {\n                     \
          \           \"content\": summary\n                            }\n      \
          \                  }\n                    ]\n                },\n      \
          \          \"ç«™ç‚¹å°é¢å›¾\": {\n                   \"files\": [\n             \
          \           {\n                            \"name\": \"Image\",\n      \
          \                      \"type\":\"external\",\n                        \
          \    \"external\": {\n                                \"url\": image_url\n\
          \                            }\n                        }\n            \
          \        ]\n                },  \n                \"URL\": {\n         \
          \           \"url\": url\n                }\n            }\n        }\n\n\
          \        # è¿”å›åŒ…å« JSON å­—ç¬¦ä¸²çš„å­—å…¸ï¼Œæ”¯æŒé ASCII å­—ç¬¦\n        return {\n           \
          \ \"result\": json.dumps(json_data, ensure_ascii=False)\n        }\n\n \
          \   except Exception as e:\n        # æ•è·ä»»ä½•å¼‚å¸¸å¹¶è¿”å›é”™è¯¯ä¿¡æ¯\n        return {\"\
          error\": f\"An error occurred: {str(e)}\"}"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: å†™å…¥Notion
        type: code
        variables:
        - value_selector:
          - sys
          - query
          variable: url
        - value_selector:
          - '1731219932025'
          - text
          variable: summary
        - value_selector:
          - '1731215842406'
          - result
          variable: title
        - value_selector:
          - '1731381205378'
          - result
          variable: image_url
      height: 64
      id: '1731220225016'
      position:
        x: 1153.1111439924662
        y: 282
      positionAbsolute:
        x: 1153.1111439924662
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        authorization:
          config:
            api_key: '{{#env.Notion_connection#}}'
            type: bearer
          type: api-key
        body:
          data:
          - id: key-value-159
            key: ''
            type: text
            value: '{{#1731220225016.result#}}'
          type: json
        desc: ''
        headers: 'Content-Type:application/json

          Notion-Version:2022-06-28'
        method: post
        params: ''
        selected: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP è¯·æ±‚
        type: http-request
        url: https://api.notion.com/v1/pages
        variables: []
      height: 134
      id: '1731220589185'
      position:
        x: 1405.898096697162
        y: 282
      positionAbsolute:
        x: 1405.898096697162
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    - data:
        code: "import re\nfrom html.parser import HTMLParser\n\nclass ImageUrlParser(HTMLParser):\n\
          \    def __init__(self, target_title):\n        super().__init__()\n   \
          \     self.target_title = target_title.strip().lower()  # å°†ç›®æ ‡æ ‡é¢˜å»ç©ºæ ¼å¹¶è½¬æ¢ä¸ºå°å†™ä»¥ä¾¿æ¯”è¾ƒ\n\
          \        self.image_url = None\n        self.found = False\n        self.in_target_section\
          \ = False\n        self.in_content = False\n        self.content_tags =\
          \ {'article', 'main', 'div'}\n        self.header_tags = {'h1', 'h2', 'h3',\
          \ 'h4', 'h5', 'h6'}\n        self.images = []\n\n    def handle_starttag(self,\
          \ tag, attrs):\n        if not self.found:\n            if tag in self.header_tags:\n\
          \                # æ£€æŸ¥æ ‡ç­¾å†…çš„æ–‡æœ¬æ˜¯å¦åŒ¹é…ç›®æ ‡æ ‡é¢˜\n                self.check_header_tag(tag,\
          \ attrs)\n            elif self.in_target_section and tag in self.content_tags:\n\
          \                attrs_dict = dict(attrs)\n                if 'class' in\
          \ attrs_dict:\n                    class_value = attrs_dict['class'].lower()\n\
          \                    if any(x in class_value for x in ['content', 'article',\
          \ 'post', 'main']):\n                        self.in_content = True\n  \
          \          elif tag == 'img' and self.in_content:\n                attrs_dict\
          \ = dict(attrs)\n                image_url = attrs_dict.get('data-src')\
          \ or attrs_dict.get('src')\n                if image_url:\n            \
          \        self.images.append(image_url)\n\n    def handle_data(self, data):\n\
          \        if not self.found and self.in_target_section and self.target_title\
          \ in data.lower().strip():\n            # å¦‚æœæ•°æ®ä¸­åŒ…å«ç›®æ ‡æ ‡é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¤„äºç›®æ ‡ç« èŠ‚\n     \
          \       self.in_target_section = True\n\n    def handle_endtag(self, tag):\n\
          \        if tag in self.content_tags:\n            self.in_content = False\n\
          \        elif tag in self.header_tags and self.in_target_section:\n    \
          \        # ä¸€æ—¦ç¦»å¼€ç›®æ ‡æ ‡é¢˜çš„ç« èŠ‚ï¼Œé‡ç½® in_target_section å¹¶åœæ­¢è§£æ\n            self.in_target_section\
          \ = False\n            self.found = True\n\n    def check_header_tag(self,\
          \ tag, attrs):\n        # è·å–æ ‡ç­¾å†…çš„æ–‡æœ¬\n        data = self.get_starttag_text()\n\
          \        if data and self.target_title in data.lower().strip():\n      \
          \      # å¦‚æœæ ‡ç­¾å†…çš„æ–‡æœ¬åŒ¹é…ç›®æ ‡æ ‡é¢˜ï¼Œè®¾ç½® in_target_section ä¸º True\n            self.in_target_section\
          \ = True\n\ndef extract_middle_image(html_content: str, target_title: str)\
          \ -> str:\n    parser = ImageUrlParser(target_title)\n    parser.feed(html_content)\n\
          \    \n    # ç¡®ä¿è¿”å›çš„å›¾ç‰‡é“¾æ¥æ˜¯çº¯å‡€çš„\n    if parser.images:\n        middle_index\
          \ = len(parser.images) // 2\n        # ä½¿ç”¨ strip æ–¹æ³•å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦å’Œå…¶ä»–æŒ‡å®šå­—ç¬¦\n\
          \        return parser.images[middle_index].strip()  # è¿”å›æ‰¾åˆ°çš„å›¾ç‰‡é“¾æ¥ä¸­æœ€ä¸­é—´çš„ä¸€ä¸ª\n\
          \    \n    markdown_image_pattern = r\"!\\[.*?\\]\\((https?://[^\\s]+)\\\
          )\"\n    markdown_images = re.findall(markdown_image_pattern, html_content)\n\
          \    if markdown_images:\n        middle_index = len(markdown_images) //\
          \ 2\n        return markdown_images[middle_index].strip()\n\n    return\
          \ \"No image found\"\n\ndef main(html_content: str, target_title: str) ->\
          \ dict:\n    result = extract_middle_image(html_content, target_title)\n\
          \    return {\"result\": result}\n\n# ç¤ºä¾‹ HTML å†…å®¹ï¼Œç”¨äºæµ‹è¯•\nhtml_content = \"\
          \"\"\n<html>\n    <head><title>Example Page</title></head>\n    <body>\n\
          \        <h1>Introduction</h1>\n        <div class='content'>\n        \
          \    <p>è¿™æ˜¯ä¸€äº›æ–‡æœ¬ã€‚</p>\n            <img src=\"https://example.com/intro-image.jpg\"\
          \ alt=\"Intro Image\">\n        </div>\n        <h2> ä¸»è¦å†…å®¹ </h2>\n      \
          \  <div class='content'>\n            <p>è¿™æ˜¯ä¸»è¦å†…å®¹ã€‚</p>\n            <img src=\"\
          https://image.uisdc.com/wp-content/uploads/2024/11/ysbanner-202401112-2-1.jpg\"\
          \ alt=\"Main Image\">\n            <img src=\"https://example.com/image2.jpg\"\
          \ alt=\"Image 2\">\n            <img src=\"https://example.com/image3.jpg\"\
          \ alt=\"Image 3\">\n        </div>\n        <h3> å…¶ä»–å†…å®¹ </h3>\n        <div\
          \ class='content'>\n            <p>è¿™æ˜¯å…¶ä»–å†…å®¹ã€‚</p>\n            <img src=\"\
          https://example.com/other-image.jpg\" alt=\"Other Image\">\n        </div>\n\
          \        [Markdown Image](https://example.com/markdown-image.jpg)\n    </body>\n\
          </html>\n\"\"\"\n\n# è°ƒç”¨ main å‡½æ•°å¹¶æ‰“å°ç»“æœ\noutput = main(html_content, \"ä¸»è¦å†…å®¹\"\
          )\nprint(output[\"result\"])  # åº”è¯¥è¾“å‡º 'https://example.com/image2.jpg'"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: æ¸…æ´—å›¾ç‰‡é“¾æ¥
        type: code
        variables:
        - value_selector:
          - '1731215762093'
          - text
          variable: html_content
        - value_selector:
          - '1731215842406'
          - result
          variable: target_title
      height: 64
      id: '1731381205378'
      position:
        x: 875.3240599679093
        y: 499.2909437188978
      positionAbsolute:
        x: 875.3240599679093
        y: 499.2909437188978
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 243
    viewport:
      x: -115.28994549371669
      y: 46.55337505496334
      zoom: 0.4720708057827259
